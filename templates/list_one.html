{% extends 'body.html' %}
{% load static %}

{% block head %}

    {% block head_list %}

    {% endblock %}

{% endblock %}

{% block content %}
    <div class="card mt-5">
        <div class="card-header">
            <div class="d-lg-flex">
                <div class="icon icon-lg icon-shape bg-gradient-dark shadow text-center border-radius-xl mt-n4 me-3 float-start">
                    <i class="material-symbols-rounded opacity-10">{{ icon }}</i>
                </div>
                <div>
                    <h5 class="mb-0">{{ entity }}</h5>
                    <p class="text-sm mb-0">
                        {{ subtitle }}
                    </p>
                </div>
                <div class="ms-auto my-auto mt-lg-0 mt-4">
                    <div class="ms-auto my-auto">
                        {% block buttons %}
                        	
                        {% endblock %}
                    </div>
                </div>
            </div>
        </div>
        <div class="table-responsive">
            <table class="table table-flush" id="data">
                <thead class="thead-light">
                {% block columns %}

                {% endblock %}
                </thead>
                <tbody class="text-sm">
                {% block rows %}

                {% endblock %}
                </tbody>
            </table>
        </div>
    </div>

{% endblock %}

{% block scripts_detail %}    

    <script type="application/javascript">
    
        $(document).ready(function() {
            $('#data').DataTable({
                responsive: true,
                autoWidth: false,
                language: {
                    "emptyTable": "No hay informaci√≥n",
                    "info": "Mostrando _START_ a _END_ de _TOTAL_ Registros",
                    "infoEmpty": "Mostrando 0 to 0 of 0 Registros",
                    "infoFiltered": "(Filtrado de _MAX_ total Registros)",
                    "lengthMenu": "Mostrar _MENU_ Registros",
                    "loadingRecords": "Cargando...",
                    "processing": "Procesando...",
                    "search": "Buscar:",
                    "zeroRecords": "Sin resultados encontrados",
                }
            });

            $('.btnTest').on('click', function() {
                $.ajax({
                    url: window.location.pathname,
                    type: 'POST',
                    data: {id: 1},
                    dataType: 'json'
                }).done(function(data) {
                    console.log(data);
                }).fail(function(jqXHR, textStatus, errorThrown) {
                    alert(textStatus + ': ' + errorThrown);
                });
            });
        });
        
    </script>
    
{% endblock %}
